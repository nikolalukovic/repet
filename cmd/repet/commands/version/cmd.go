package version

import (
	"fmt"

	"github.com/nikolalukovic/repet"
	"github.com/spf13/cobra"
)

const ascii string = `
          _____                    _____                    _____                    _____                _____          
         /\    \                  /\    \                  /\    \                  /\    \              /\    \         
        /::\    \                /::\    \                /::\    \                /::\    \            /::\    \        
       /::::\    \              /::::\    \              /::::\    \              /::::\    \           \:::\    \       
      /::::::\    \            /::::::\    \            /::::::\    \            /::::::\    \           \:::\    \      
     /:::/\:::\    \          /:::/\:::\    \          /:::/\:::\    \          /:::/\:::\    \           \:::\    \     
    /:::/__\:::\    \        /:::/__\:::\    \        /:::/__\:::\    \        /:::/__\:::\    \           \:::\    \    
   /::::\   \:::\    \      /::::\   \:::\    \      /::::\   \:::\    \      /::::\   \:::\    \          /::::\    \   
  /::::::\   \:::\    \    /::::::\   \:::\    \    /::::::\   \:::\    \    /::::::\   \:::\    \        /::::::\    \  
 /:::/\:::\   \:::\____\  /:::/\:::\   \:::\    \  /:::/\:::\   \:::\____\  /:::/\:::\   \:::\    \      /:::/\:::\    \ 
/:::/  \:::\   \:::|    |/:::/__\:::\   \:::\____\/:::/  \:::\   \:::|    |/:::/__\:::\   \:::\____\    /:::/  \:::\____\
\::/   |::::\  /:::|____|\:::\   \:::\   \::/    /\::/    \:::\  /:::|____|\:::\   \:::\   \::/    /   /:::/    \::/    /
 \/____|:::::\/:::/    /  \:::\   \:::\   \/____/  \/_____/\:::\/:::/    /  \:::\   \:::\   \/____/   /:::/    / \/____/ 
       |:::::::::/    /    \:::\   \:::\    \               \::::::/    /    \:::\   \:::\    \      /:::/    /          
       |::|\::::/    /      \:::\   \:::\____\               \::::/    /      \:::\   \:::\____\    /:::/    /           
       |::| \::/____/        \:::\   \::/    /                \::/____/        \:::\   \::/    /    \::/    /            
       |::|  ~|               \:::\   \/____/                  ~~               \:::\   \/____/      \/____/             
       |::|   |                \:::\    \                                        \:::\    \                              
       \::|   |                 \:::\____\                                        \:::\____\                             
        \:|   |                  \::/    /                                         \::/    /                             
         \|___|                   \/____/                                           \/____/                              
  `

var VersionCmd = &cobra.Command{
	Use:                   "version",
	Short:                 "Prints the version",
	Long:                  "Prints the version, commit and date of build",
	DisableFlagsInUseLine: true,
	Run: func(cmd *cobra.Command, args []string) {
		fmt.Println(ascii)
		fmt.Printf("Version:\t%s\n", repet.Version)
		fmt.Printf("Commit:\t\t%s\n", repet.Commit)
		fmt.Printf("Date:\t\t%s\n", repet.Date)
	},
}
